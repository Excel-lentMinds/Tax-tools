<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Enhanced SEO Meta Tags -->
    <meta name="description"
        content="Free online PDF tools - Merge, Split, Compress, Convert, OCR, Sign PDFs instantly. No signup, 100% secure browser-based processing. 35+ powerful PDF tools at your fingertips.">
    <meta name="keywords"
        content="PDF tools, merge PDF, split PDF, compress PDF, convert PDF, PDF to Word, Word to PDF, JPG to PDF, PDF editor, OCR PDF, sign PDF, free PDF tools, online PDF converter">
    <meta name="author" content="DS Financial Solutions">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://excel-lentminds.github.io/Tax-tools/pdf-tools.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://excel-lentminds.github.io/Tax-tools/pdf-tools.html">
    <meta property="og:title" content="PDF Tools | DS Financial - Free Online PDF Editor">
    <meta property="og:description"
        content="35+ Free PDF tools - Merge, Split, Compress, Convert, OCR, Sign PDFs instantly. No signup required.">
    <meta property="og:image" content="https://excel-lentminds.github.io/Tax-tools/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PDF Tools | DS Financial - Free Online PDF Editor">
    <meta name="twitter:description"
        content="35+ Free PDF tools - Merge, Split, Compress, Convert, OCR, Sign PDFs instantly.">

    <title>PDF Tools | DS Financial - Free Online PDF Editor</title>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "DS Financial PDF Tools",
        "url": "https://excel-lentminds.github.io/Tax-tools/pdf-tools.html",
        "description": "Free online PDF tools for merging, splitting, compressing, converting, and editing PDF files.",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Merge PDF files",
            "Split PDF pages",
            "Compress PDF size",
            "Convert PDF to images",
            "OCR text extraction",
            "E-Sign PDF documents",
            "Add watermarks",
            "PDF password protection"
        ],
        "browserRequirements": "Requires JavaScript",
        "softwareVersion": "2.0",
        "author": {
            "@type": "Organization",
            "name": "DS Financial Solutions"
        }
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23667eea' rx='15' width='100' height='100'/><text x='50' y='65' font-size='40' font-weight='bold' fill='white' text-anchor='middle'>PDF</text></svg>">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- PDF Tools Styles -->
    <link rel="stylesheet" href="pdf-tools.css">

    <!-- PDF Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

    <!-- Tesseract.js for OCR -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="pdf-navbar">
        <div class="container">
            <a href="index.html" class="pdf-logo">
                <div class="logo-icon"><i class="fas fa-file-pdf"></i></div>
                <span>PDF Tools</span>
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="tax-portal.html">Tax Tools</a>
                <a href="#tools">All Tools</a>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pdf-hero">
        <div class="hero-bg"></div>
        <div class="container">
            <h1>All-in-One <span class="gradient-text">PDF Tools</span></h1>
            <p class="hero-subtitle">Merge, split, compress, convert, and edit PDFs online. Free, fast, and secure.</p>

            <!-- Search Bar -->
            <div class="hero-search">
                <i class="fas fa-search"></i>
                <input type="text" id="toolSearch" placeholder="Search tools... (e.g., merge, compress, convert)">
            </div>

            <!-- Popular Tools Quick Access -->
            <div class="popular-tools">
                <span>Popular:</span>
                <a href="#merge-pdf" class="quick-tool"><i class="fas fa-layer-group"></i> Merge</a>
                <a href="#split-pdf" class="quick-tool"><i class="fas fa-cut"></i> Split</a>
                <a href="#compress-pdf" class="quick-tool"><i class="fas fa-compress-arrows-alt"></i> Compress</a>
                <a href="#pdf-to-jpg" class="quick-tool"><i class="fas fa-image"></i> PDF to JPG</a>
            </div>
        </div>
    </section>

    <!-- Tools Grid -->
    <section class="tools-section" id="tools">
        <div class="container">

            <!-- Convert Category -->
            <div class="tool-category" id="convert">
                <h2><i class="fas fa-exchange-alt"></i> Convert PDF</h2>
                <div class="tools-grid">
                    <div class="tool-card convert" data-tool="pdf-to-jpg" onclick="openTool('pdf-to-jpg')">
                        <div class="tool-icon"><i class="fas fa-image"></i></div>
                        <h3>PDF to JPG</h3>
                        <p>Convert PDF pages to images</p>
                    </div>
                    <div class="tool-card convert" data-tool="jpg-to-pdf" onclick="openTool('jpg-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-file-image"></i></div>
                        <h3>JPG to PDF</h3>
                        <p>Convert images to PDF</p>
                    </div>
                    <div class="tool-card convert" data-tool="word-to-pdf" onclick="openTool('word-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-file-word"></i></div>
                        <h3>Word to PDF</h3>
                        <p>Convert DOC/DOCX to PDF</p>
                    </div>
                    <div class="tool-card convert" data-tool="excel-to-pdf" onclick="openTool('excel-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-file-excel"></i></div>
                        <h3>Excel to PDF</h3>
                        <p>Convert spreadsheets to PDF</p>
                    </div>
                    <div class="tool-card convert" data-tool="ppt-to-pdf" onclick="openTool('ppt-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-file-powerpoint"></i></div>
                        <h3>PowerPoint to PDF</h3>
                        <p>Convert presentations to PDF</p>
                    </div>
                    <div class="tool-card convert" data-tool="pdf-to-text" onclick="openTool('pdf-to-text')">
                        <div class="tool-icon"><i class="fas fa-file-alt"></i></div>
                        <h3>PDF to Text</h3>
                        <p>Extract text from PDF</p>
                    </div>
                    <div class="tool-card convert" data-tool="html-to-pdf" onclick="openTool('html-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-code"></i></div>
                        <h3>HTML to PDF</h3>
                        <p>Convert web pages to PDF</p>
                    </div>
                </div>
            </div>

            <!-- Organize Category -->
            <div class="tool-category" id="organize">
                <h2><i class="fas fa-tasks"></i> Organize PDF</h2>
                <div class="tools-grid">
                    <div class="tool-card organize" data-tool="merge-pdf" onclick="openTool('merge-pdf')">
                        <div class="tool-icon"><i class="fas fa-layer-group"></i></div>
                        <h3>Merge PDF</h3>
                        <p>Combine multiple PDFs into one</p>
                    </div>
                    <div class="tool-card organize" data-tool="split-pdf" onclick="openTool('split-pdf')">
                        <div class="tool-icon"><i class="fas fa-cut"></i></div>
                        <h3>Split PDF</h3>
                        <p>Separate PDF into pages</p>
                    </div>
                    <div class="tool-card organize" data-tool="compress-pdf" onclick="openTool('compress-pdf')">
                        <div class="tool-icon"><i class="fas fa-compress-arrows-alt"></i></div>
                        <h3>Compress PDF</h3>
                        <p>Reduce PDF file size</p>
                    </div>
                    <div class="tool-card organize" data-tool="rotate-pdf" onclick="openTool('rotate-pdf')">
                        <div class="tool-icon"><i class="fas fa-sync-alt"></i></div>
                        <h3>Rotate PDF</h3>
                        <p>Rotate PDF pages</p>
                    </div>
                    <div class="tool-card organize" data-tool="delete-pages" onclick="openTool('delete-pages')">
                        <div class="tool-icon"><i class="fas fa-trash-alt"></i></div>
                        <h3>Delete Pages</h3>
                        <p>Remove pages from PDF</p>
                    </div>
                    <div class="tool-card organize" data-tool="extract-pages" onclick="openTool('extract-pages')">
                        <div class="tool-icon"><i class="fas fa-file-export"></i></div>
                        <h3>Extract Pages</h3>
                        <p>Extract specific pages</p>
                    </div>
                </div>
            </div>

            <!-- Edit Category -->
            <div class="tool-category" id="edit">
                <h2><i class="fas fa-edit"></i> Edit PDF</h2>
                <div class="tools-grid">
                    <div class="tool-card edit" data-tool="add-watermark" onclick="openTool('add-watermark')">
                        <div class="tool-icon"><i class="fas fa-stamp"></i></div>
                        <h3>Add Watermark</h3>
                        <p>Add text or image watermark</p>
                    </div>
                    <div class="tool-card edit" data-tool="add-page-numbers" onclick="openTool('add-page-numbers')">
                        <div class="tool-icon"><i class="fas fa-list-ol"></i></div>
                        <h3>Page Numbers</h3>
                        <p>Add page numbers to PDF</p>
                    </div>
                </div>
            </div>

            <!-- Security Category -->
            <div class="tool-category" id="security">
                <h2><i class="fas fa-shield-alt"></i> Security</h2>
                <div class="tools-grid">
                    <div class="tool-card security" data-tool="protect-pdf" onclick="openTool('protect-pdf')">
                        <div class="tool-icon"><i class="fas fa-lock"></i></div>
                        <h3>Protect PDF</h3>
                        <p>Add password to PDF</p>
                    </div>
                    <div class="tool-card security" data-tool="unlock-pdf" onclick="openTool('unlock-pdf')">
                        <div class="tool-icon"><i class="fas fa-unlock"></i></div>
                        <h3>Unlock PDF</h3>
                        <p>Remove PDF password</p>
                    </div>
                    <div class="tool-card security" data-tool="redact-pdf" onclick="openTool('redact-pdf')">
                        <div class="tool-icon"><i class="fas fa-eraser"></i></div>
                        <h3>Redact PDF</h3>
                        <p>Black out sensitive content</p>
                    </div>
                </div>
            </div>

            <!-- Advanced Tools - UNIQUE FEATURES -->
            <div class="tool-category" id="advanced">
                <h2><i class="fas fa-magic"></i> Advanced Tools <span class="badge-new">PRO</span></h2>
                <div class="tools-grid">
                    <div class="tool-card advanced" data-tool="sign-pdf" onclick="openTool('sign-pdf')">
                        <div class="tool-icon"><i class="fas fa-signature"></i></div>
                        <h3>E-Sign PDF</h3>
                        <p>Draw signature on PDF</p>
                        <span class="tool-badge">‚ú® Unique</span>
                    </div>
                    <div class="tool-card advanced" data-tool="compare-pdf" onclick="openTool('compare-pdf')">
                        <div class="tool-icon"><i class="fas fa-columns"></i></div>
                        <h3>Compare PDFs</h3>
                        <p>Side-by-side comparison</p>
                        <span class="tool-badge">‚ú® Unique</span>
                    </div>
                    <div class="tool-card advanced" data-tool="reorder-pages" onclick="openTool('reorder-pages')">
                        <div class="tool-icon"><i class="fas fa-sort"></i></div>
                        <h3>Reorder Pages</h3>
                        <p>Drag & drop to reorder</p>
                        <span class="tool-badge">‚ú® Unique</span>
                    </div>
                    <div class="tool-card advanced" data-tool="pdf-viewer" onclick="openTool('pdf-viewer')">
                        <div class="tool-icon"><i class="fas fa-expand"></i></div>
                        <h3>PDF Viewer</h3>
                        <p>Full-screen viewer with annotations</p>
                        <span class="tool-badge">üñ•Ô∏è Full Screen</span>
                    </div>
                    <div class="tool-card advanced pro-tool" data-tool="pdf-editor" onclick="openTool('pdf-editor')">
                        <div class="tool-icon"><i class="fas fa-edit"></i></div>
                        <h3>PDF Editor</h3>
                        <p>Edit text, erase, draw, add images</p>
                        <span class="tool-badge pro">‚≠ê PRO Editor</span>
                    </div>
                    <div class="tool-card advanced" data-tool="pdf-reader" onclick="openTool('pdf-reader')">
                        <div class="tool-icon"><i class="fas fa-book-reader"></i></div>
                        <h3>PDF Reader</h3>
                        <p>View PDF with zoom & search</p>
                    </div>
                    <div class="tool-card advanced" data-tool="qr-to-pdf" onclick="openTool('qr-to-pdf')">
                        <div class="tool-icon"><i class="fas fa-qrcode"></i></div>
                        <h3>Add QR Code</h3>
                        <p>Add QR code to PDF</p>
                        <span class="tool-badge">‚ú® Unique</span>
                    </div>
                    <div class="tool-card advanced" data-tool="pdf-metadata" onclick="openTool('pdf-metadata')">
                        <div class="tool-icon"><i class="fas fa-info-circle"></i></div>
                        <h3>Edit Metadata</h3>
                        <p>Edit title, author, keywords</p>
                        <span class="tool-badge">‚ú® Unique</span>
                    </div>
                    <div class="tool-card advanced" data-tool="crop-pdf" onclick="openTool('crop-pdf')">
                        <div class="tool-icon"><i class="fas fa-crop-alt"></i></div>
                        <h3>Crop PDF</h3>
                        <p>Crop page margins</p>
                    </div>
                    <div class="tool-card advanced" data-tool="flatten-pdf" onclick="openTool('flatten-pdf')">
                        <div class="tool-icon"><i class="fas fa-compress"></i></div>
                        <h3>Flatten PDF</h3>
                        <p>Flatten form fields</p>
                    </div>
                    <div class="tool-card advanced" data-tool="ocr-pdf" onclick="openTool('ocr-pdf')">
                        <div class="tool-icon"><i class="fas fa-eye"></i></div>
                        <h3>OCR PDF</h3>
                        <p>Scan image PDF to searchable text</p>
                        <span class="tool-badge">üî• AI Powered</span>
                    </div>
                    <div class="tool-card advanced" data-tool="annotate-pdf" onclick="openTool('annotate-pdf')">
                        <div class="tool-icon"><i class="fas fa-highlighter"></i></div>
                        <h3>Annotate PDF</h3>
                        <p>Draw, highlight, add notes</p>
                        <span class="tool-badge">‚úèÔ∏è Interactive</span>
                    </div>
                    <div class="tool-card advanced" data-tool="header-footer" onclick="openTool('header-footer')">
                        <div class="tool-icon"><i class="fas fa-heading"></i></div>
                        <h3>Header & Footer</h3>
                        <p>Add custom headers and footers</p>
                    </div>
                    <div class="tool-card advanced" data-tool="bates-numbering" onclick="openTool('bates-numbering')">
                        <div class="tool-icon"><i class="fas fa-gavel"></i></div>
                        <h3>Bates Numbering</h3>
                        <p>Add legal document numbering</p>
                        <span class="tool-badge">‚öñÔ∏è Legal</span>
                    </div>
                    <div class="tool-card advanced" data-tool="batch-process" onclick="openTool('batch-process')">
                        <div class="tool-icon"><i class="fas fa-layer-group"></i></div>
                        <h3>Batch Process</h3>
                        <p>Apply actions to multiple PDFs</p>
                        <span class="tool-badge">üöÄ Power User</span>
                    </div>
                    <div class="tool-card advanced" data-tool="pdf-optimize" onclick="openTool('pdf-optimize')">
                        <div class="tool-icon"><i class="fas fa-magic"></i></div>
                        <h3>PDF Optimizer</h3>
                        <p>Advanced compression & cleanup</p>
                    </div>
                    <div class="tool-card advanced" data-tool="form-filler" onclick="openTool('form-filler')">
                        <div class="tool-icon"><i class="fas fa-edit"></i></div>
                        <h3>Form Filler</h3>
                        <p>Fill PDF form fields</p>
                    </div>
                    <div class="tool-card advanced" data-tool="pdf-compare" onclick="openTool('pdf-compare')">
                        <div class="tool-icon"><i class="fas fa-not-equal"></i></div>
                        <h3>PDF Compare</h3>
                        <p>Visual diff between two PDFs</p>
                        <span class="tool-badge">üîç Analysis</span>
                    </div>
                    <div class="tool-card advanced pro-tool" data-tool="text-to-html"
                        onclick="openTool('text-to-html')">
                        <div class="tool-icon"><i class="fas fa-code"></i></div>
                        <h3>Text to HTML</h3>
                        <p>Convert text to colorful structured HTML</p>
                        <span class="tool-badge pro">üé® Colorful Code</span>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Tool Modal -->
    <div class="tool-modal" id="toolModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeTool()">&times;</button>
            <div class="modal-header" id="modalHeader">
                <div class="modal-icon"><i class="fas fa-file-pdf"></i></div>
                <h2 id="modalTitle">Tool Name</h2>
                <p id="modalDescription">Tool description</p>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Full-Screen PDF Viewer -->
    <div class="fullscreen-viewer" id="fullscreenViewer">
        <div class="viewer-toolbar">
            <div class="toolbar-section">
                <button onclick="closeFullscreenViewer()" class="viewer-btn" title="Close">
                    <i class="fas fa-times"></i>
                </button>
                <span class="viewer-filename" id="viewerFilename">document.pdf</span>
            </div>
            <div class="toolbar-section center">
                <button onclick="viewerPrevPage()" class="viewer-btn" title="Previous Page">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <span class="page-indicator">
                    <input type="number" id="viewerPageInput" min="1" value="1" onchange="viewerGoToPage(this.value)">
                    <span>/ <span id="viewerTotalPages">1</span></span>
                </span>
                <button onclick="viewerNextPage()" class="viewer-btn" title="Next Page">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="toolbar-divider"></div>
                <button onclick="viewerZoomOut()" class="viewer-btn" title="Zoom Out">
                    <i class="fas fa-search-minus"></i>
                </button>
                <select id="viewerZoomSelect" onchange="viewerSetZoom(this.value)">
                    <option value="0.5">50%</option>
                    <option value="0.75">75%</option>
                    <option value="1" selected>100%</option>
                    <option value="1.25">125%</option>
                    <option value="1.5">150%</option>
                    <option value="2">200%</option>
                    <option value="fit">Fit Width</option>
                </select>
                <button onclick="viewerZoomIn()" class="viewer-btn" title="Zoom In">
                    <i class="fas fa-search-plus"></i>
                </button>
            </div>
            <div class="toolbar-section">
                <button onclick="viewerRotate()" class="viewer-btn" title="Rotate">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <button onclick="viewerToggleSidebar()" class="viewer-btn" title="Thumbnails">
                    <i class="fas fa-th-large"></i>
                </button>
                <div class="toolbar-divider"></div>
                <button onclick="viewerPrint()" class="viewer-btn" title="Print">
                    <i class="fas fa-print"></i>
                </button>
                <button onclick="viewerDownload()" class="viewer-btn primary" title="Download">
                    <i class="fas fa-download"></i>
                </button>
                <button onclick="viewerFullscreen()" class="viewer-btn" title="Fullscreen">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </div>
        <div class="viewer-container">
            <div class="viewer-sidebar" id="viewerSidebar">
                <div class="sidebar-header">
                    <span>Pages</span>
                    <button onclick="viewerToggleSidebar()" class="sidebar-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="sidebar-thumbnails" id="viewerThumbnails"></div>
            </div>
            <div class="viewer-main" id="viewerMain">
                <div class="viewer-canvas-container" id="viewerCanvasContainer">
                    <canvas id="viewerCanvas"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Full-Screen PDF Editor PRO -->
    <div class="pdf-editor" id="pdfEditor">
        <!-- Top Toolbar -->
        <div class="editor-toolbar">
            <div class="toolbar-group file-group">
                <button onclick="closeEditor()" class="editor-btn close-btn" title="Close">
                    <i class="fas fa-times"></i>
                </button>
                <span class="editor-filename" id="editorFilename">document.pdf</span>
            </div>

            <!-- Main Tools -->
            <div class="toolbar-group tools">
                <button onclick="setEditorTool('select')" class="editor-btn tool-btn active" id="toolSelect"
                    title="Select & Move">
                    <i class="fas fa-mouse-pointer"></i>
                </button>
                <div class="toolbar-divider"></div>

                <!-- Text Tools -->
                <button onclick="setEditorTool('text')" class="editor-btn tool-btn" id="toolText" title="Add Text">
                    <i class="fas fa-font"></i>
                </button>
                <button onclick="setEditorTool('whiteout')" class="editor-btn tool-btn" id="toolWhiteout"
                    title="Whiteout & Replace Text">
                    <i class="fas fa-eraser"></i>
                </button>
                <button onclick="openFindReplace()" class="editor-btn tool-btn" id="toolFindReplace"
                    title="Find & Replace">
                    <i class="fas fa-search-plus"></i>
                </button>
                <div class="toolbar-divider"></div>

                <!-- Drawing Tools -->
                <button onclick="setEditorTool('draw')" class="editor-btn tool-btn" id="toolDraw" title="Free Draw">
                    <i class="fas fa-pencil-alt"></i>
                </button>
                <button onclick="setEditorTool('highlight')" class="editor-btn tool-btn" id="toolHighlight"
                    title="Highlight">
                    <i class="fas fa-highlighter"></i>
                </button>
                <button onclick="setEditorTool('underline')" class="editor-btn tool-btn" id="toolUnderline"
                    title="Underline">
                    <i class="fas fa-underline"></i>
                </button>
                <button onclick="setEditorTool('strikethrough')" class="editor-btn tool-btn" id="toolStrikethrough"
                    title="Strikethrough">
                    <i class="fas fa-strikethrough"></i>
                </button>
                <div class="toolbar-divider"></div>

                <!-- Shapes -->
                <button onclick="setEditorTool('rect')" class="editor-btn tool-btn" id="toolRect" title="Rectangle">
                    <i class="far fa-square"></i>
                </button>
                <button onclick="setEditorTool('filledRect')" class="editor-btn tool-btn" id="toolFilledRect"
                    title="Filled Rectangle">
                    <i class="fas fa-square"></i>
                </button>
                <button onclick="setEditorTool('circle')" class="editor-btn tool-btn" id="toolCircle" title="Circle">
                    <i class="far fa-circle"></i>
                </button>
                <button onclick="setEditorTool('line')" class="editor-btn tool-btn" id="toolLine" title="Line">
                    <i class="fas fa-minus"></i>
                </button>
                <button onclick="setEditorTool('arrow')" class="editor-btn tool-btn" id="toolArrow" title="Arrow">
                    <i class="fas fa-long-arrow-alt-right"></i>
                </button>
                <div class="toolbar-divider"></div>

                <!-- Signature & Stamps -->
                <button onclick="openSignaturePanel()" class="editor-btn tool-btn" id="toolSignature"
                    title="Add Signature">
                    <i class="fas fa-signature"></i>
                </button>
                <button onclick="addInitials()" class="editor-btn tool-btn" id="toolInitials" title="Add Initials">
                    <i class="fas fa-user-edit"></i>
                </button>
                <button onclick="setEditorTool('checkmark')" class="editor-btn tool-btn" id="toolCheckmark"
                    title="Checkmark">
                    <i class="fas fa-check"></i>
                </button>
                <button onclick="setEditorTool('crossmark')" class="editor-btn tool-btn" id="toolCrossmark"
                    title="Cross Mark">
                    <i class="fas fa-times"></i>
                </button>
                <button onclick="addStampToEditor()" class="editor-btn tool-btn" id="toolStamp" title="Stamps">
                    <i class="fas fa-stamp"></i>
                </button>
                <div class="toolbar-divider"></div>

                <!-- Insert -->
                <button onclick="addImageToEditor()" class="editor-btn tool-btn" id="toolImage" title="Add Image">
                    <i class="fas fa-image"></i>
                </button>
                <button onclick="addComment()" class="editor-btn tool-btn" id="toolComment" title="Add Comment">
                    <i class="fas fa-comment"></i>
                </button>
                <button onclick="addLink()" class="editor-btn tool-btn" id="toolLink" title="Add Link">
                    <i class="fas fa-link"></i>
                </button>
            </div>

            <!-- Options -->
            <div class="toolbar-group options">
                <div class="color-picker-group">
                    <label>Fill:</label>
                    <input type="color" id="editorFillColor" value="#ffffff" title="Fill Color">
                </div>
                <div class="color-picker-group">
                    <label>Stroke:</label>
                    <input type="color" id="editorColor" value="#000000" title="Stroke Color">
                </div>
                <select id="editorFontSize" title="Font Size">
                    <option value="8">8px</option>
                    <option value="10">10px</option>
                    <option value="12">12px</option>
                    <option value="14" selected>14px</option>
                    <option value="16">16px</option>
                    <option value="18">18px</option>
                    <option value="20">20px</option>
                    <option value="24">24px</option>
                    <option value="28">28px</option>
                    <option value="32">32px</option>
                    <option value="36">36px</option>
                    <option value="48">48px</option>
                    <option value="72">72px</option>
                </select>
                <select id="editorFont" title="Font Family">
                    <option value="Helvetica">Helvetica</option>
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier">Courier</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                </select>
                <select id="editorFontWeight" title="Font Weight">
                    <option value="normal">Normal</option>
                    <option value="bold">Bold</option>
                    <option value="italic">Italic</option>
                </select>
                <select id="editorStrokeWidth" title="Stroke Width">
                    <option value="1">1px</option>
                    <option value="2" selected>2px</option>
                    <option value="3">3px</option>
                    <option value="4">4px</option>
                    <option value="6">6px</option>
                    <option value="8">8px</option>
                    <option value="10">10px</option>
                </select>
                <select id="editorOpacity" title="Opacity">
                    <option value="1">100%</option>
                    <option value="0.8">80%</option>
                    <option value="0.6">60%</option>
                    <option value="0.4">40%</option>
                    <option value="0.2">20%</option>
                </select>
            </div>

            <!-- Actions -->
            <div class="toolbar-group actions">
                <button onclick="editorUndo()" class="editor-btn" title="Undo (Ctrl+Z)">
                    <i class="fas fa-undo"></i>
                </button>
                <button onclick="editorRedo()" class="editor-btn" title="Redo (Ctrl+Y)">
                    <i class="fas fa-redo"></i>
                </button>
                <button onclick="deleteSelected()" class="editor-btn" title="Delete Selected">
                    <i class="fas fa-trash"></i>
                </button>
                <div class="toolbar-divider"></div>
                <button onclick="editorZoomOut()" class="editor-btn" title="Zoom Out">
                    <i class="fas fa-search-minus"></i>
                </button>
                <span class="zoom-display" id="editorZoomDisplay">100%</span>
                <button onclick="editorZoomIn()" class="editor-btn" title="Zoom In">
                    <i class="fas fa-search-plus"></i>
                </button>
                <button onclick="editorFitWidth()" class="editor-btn" title="Fit Width">
                    <i class="fas fa-arrows-alt-h"></i>
                </button>
            </div>

            <!-- Save -->
            <div class="toolbar-group save">
                <button onclick="previewEditedPdf()" class="editor-btn preview-btn" title="Preview">
                    <i class="fas fa-eye"></i>
                </button>
                <button onclick="saveEditedPdf()" class="editor-btn save-btn" title="Save & Download PDF">
                    <i class="fas fa-download"></i> Save PDF
                </button>
            </div>
        </div>

        <!-- Workspace -->
        <div class="editor-workspace">
            <!-- Left Sidebar - Pages -->
            <div class="editor-sidebar-left" id="editorPages">
                <div class="sidebar-header">
                    <span><i class="fas fa-file"></i> Pages</span>
                </div>
                <div class="page-thumbnails" id="editorPageThumbnails"></div>
            </div>

            <!-- Main Canvas -->
            <div class="editor-canvas-area" id="editorCanvasArea">
                <div class="canvas-wrapper" id="canvasWrapper">
                    <canvas id="editorBackgroundCanvas"></canvas>
                    <canvas id="editorOverlayCanvas"></canvas>
                </div>
            </div>

            <!-- Right Sidebar - Properties -->
            <div class="editor-sidebar-right" id="editorProperties">
                <div class="sidebar-header">
                    <span><i class="fas fa-cog"></i> Properties</span>
                </div>
                <div class="properties-content" id="propertiesContent">
                    <p class="no-selection">Select an element to edit its properties</p>
                </div>
                <div class="sidebar-header" style="margin-top:1rem;">
                    <span><i class="fas fa-layer-group"></i> Layers</span>
                </div>
                <div id="editorLayers"></div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="editor-status">
            <div class="status-left">
                <button onclick="editorPrevPage()" class="page-nav-btn"><i class="fas fa-chevron-left"></i></button>
                <span>Page <span id="editorCurrentPage">1</span> of <span id="editorTotalPages">1</span></span>
                <button onclick="editorNextPage()" class="page-nav-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
            <span id="editorStatus">Ready</span>
            <div class="status-right">
                <span class="status-info">Ctrl+Z Undo | Ctrl+S Save | Esc Close</span>
            </div>
        </div>
    </div>

    <!-- Find & Replace Panel -->
    <div class="find-replace-panel" id="findReplacePanel">
        <div class="panel-header">
            <h4><i class="fas fa-search-plus"></i> Find & Replace</h4>
            <button onclick="closeFindReplace()" class="close-panel"><i class="fas fa-times"></i></button>
        </div>
        <div class="panel-body">
            <div class="input-group">
                <label>Find:</label>
                <input type="text" id="findText" placeholder="Text to find...">
            </div>
            <div class="input-group">
                <label>Replace with:</label>
                <input type="text" id="replaceText" placeholder="Replacement text...">
            </div>
            <div class="panel-actions">
                <button onclick="findNextText()" class="action-btn"><i class="fas fa-search"></i> Find Next</button>
                <button onclick="replaceCurrentText()" class="action-btn primary"><i class="fas fa-exchange-alt"></i>
                    Replace</button>
                <button onclick="replaceAllText()" class="action-btn"><i class="fas fa-sync"></i> Replace All</button>
            </div>
            <div class="find-results" id="findResults"></div>
        </div>
    </div>

    <!-- Signature Panel -->
    <div class="signature-panel" id="signaturePanel">
        <div class="panel-header">
            <h4><i class="fas fa-signature"></i> Create Signature</h4>
            <button onclick="closeSignaturePanel()" class="close-panel"><i class="fas fa-times"></i></button>
        </div>
        <div class="panel-body">
            <div class="signature-tabs">
                <button class="sig-tab active" onclick="switchSigTab('draw')">Draw</button>
                <button class="sig-tab" onclick="switchSigTab('type')">Type</button>
                <button class="sig-tab" onclick="switchSigTab('upload')">Upload</button>
            </div>
            <div class="sig-content" id="sigDrawContent">
                <canvas id="signatureCanvas" width="400" height="150"></canvas>
                <button onclick="clearSignature()" class="clear-sig-btn"><i class="fas fa-eraser"></i> Clear</button>
            </div>
            <div class="sig-content hidden" id="sigTypeContent">
                <input type="text" id="signatureText" placeholder="Type your signature..." class="sig-text-input">
                <select id="signatureFont" class="sig-font-select">
                    <option value="cursive">Cursive</option>
                    <option value="Dancing Script">Dancing Script</option>
                    <option value="Pacifico">Pacifico</option>
                    <option value="Great Vibes">Great Vibes</option>
                </select>
            </div>
            <div class="sig-content hidden" id="sigUploadContent">
                <input type="file" id="signatureUpload" accept="image/*" class="sig-upload-input">
                <p class="sig-upload-hint">Upload an image of your signature (PNG with transparent background
                    recommended)</p>
            </div>
            <div class="panel-actions">
                <button onclick="closeSignaturePanel()" class="action-btn">Cancel</button>
                <button onclick="insertSignature()" class="action-btn primary"><i class="fas fa-check"></i> Insert
                    Signature</button>
            </div>
        </div>
    </div>

    <!-- Whiteout & Replace Modal -->
    <div class="whiteout-modal" id="whiteoutModal">
        <div class="modal-content compact">
            <h4><i class="fas fa-eraser"></i> Whiteout Area</h4>
            <p class="hint">Draw a rectangle over the text you want to replace. After whiteout, you can add new text.
            </p>
            <div class="input-group">
                <label>Replacement text (optional):</label>
                <input type="text" id="whiteoutReplaceText" placeholder="Enter replacement text...">
            </div>
            <div class="modal-actions">
                <button onclick="cancelWhiteout()" class="action-btn">Just Whiteout</button>
                <button onclick="confirmWhiteoutReplace()" class="action-btn primary"><i
                        class="fas fa-exchange-alt"></i> Whiteout & Replace</button>
            </div>
        </div>
    </div>

    <!-- Text Input Modal for Editor -->
    <div class="text-input-modal" id="textInputModal">
        <div class="text-input-content">
            <textarea id="editorTextInput" placeholder="Enter text here..."></textarea>
            <div class="text-input-actions">
                <button onclick="cancelTextInput()" class="cancel-btn">Cancel</button>
                <button onclick="confirmTextInput()" class="confirm-btn">Add Text</button>
            </div>
        </div>
    </div>

    <!-- Stamp Selection Modal -->
    <div class="stamp-modal" id="stampModal">
        <div class="stamp-content">
            <h3><i class="fas fa-stamp"></i> Select Stamp</h3>
            <div class="stamp-grid">
                <button onclick="selectStamp('APPROVED')" class="stamp-option approved">APPROVED</button>
                <button onclick="selectStamp('REJECTED')" class="stamp-option rejected">REJECTED</button>
                <button onclick="selectStamp('CONFIDENTIAL')" class="stamp-option confidential">CONFIDENTIAL</button>
                <button onclick="selectStamp('DRAFT')" class="stamp-option draft">DRAFT</button>
                <button onclick="selectStamp('FINAL')" class="stamp-option final">FINAL</button>
                <button onclick="selectStamp('COPY')" class="stamp-option copy">COPY</button>
                <button onclick="selectStamp('VOID')" class="stamp-option void">VOID</button>
                <button onclick="selectStamp('PAID')" class="stamp-option paid">PAID</button>
            </div>
            <button onclick="closeStampModal()" class="close-stamp-btn">Cancel</button>
        </div>
    </div>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2>How It Works</h2>
            <div class="steps-grid">
                <div class="step">
                    <div class="step-icon"><i class="fas fa-upload"></i></div>
                    <h3>1. Upload</h3>
                    <p>Drag & drop or select your PDF files</p>
                </div>
                <div class="step">
                    <div class="step-icon"><i class="fas fa-cog"></i></div>
                    <h3>2. Process</h3>
                    <p>Choose options and click process</p>
                </div>
                <div class="step">
                    <div class="step-icon"><i class="fas fa-download"></i></div>
                    <h3>3. Download</h3>
                    <p>Download your processed file instantly</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features-section">
        <div class="container">
            <h2>Why Choose Our PDF Tools?</h2>
            <div class="features-grid">
                <div class="feature">
                    <i class="fas fa-bolt"></i>
                    <h3>Lightning Fast</h3>
                    <p>Process files in seconds, not minutes</p>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <h3>100% Secure</h3>
                    <p>Files processed locally in your browser</p>
                </div>
                <div class="feature">
                    <i class="fas fa-user-slash"></i>
                    <h3>No Signup</h3>
                    <p>Use all tools without registration</p>
                </div>
                <div class="feature">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>Mobile Friendly</h3>
                    <p>Works on all devices</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="pdf-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo-icon"><i class="fas fa-file-pdf"></i></div>
                    <span>PDF Tools by DS Financial</span>
                </div>
                <div class="footer-links">
                    <a href="index.html">Home</a>
                    <a href="tax-portal.html">Tax Tools</a>
                    <a href="blog.html">Blog</a>
                </div>
            </div>
            <p class="copyright">¬© 2024 DS Financial Solutions. All rights reserved.</p>
        </div>
    </footer>

    <!-- Particles Container for Futuristic Effect -->
    <div class="particles-container" id="particlesContainer"></div>

    <!-- Cursor Trail Container -->
    <div id="cursorTrail"></div>

    <!-- Toast Notification -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="pdf-tools.js"></script>

    <!-- Futuristic Interactive Effects -->
    <script>
        // Particle System
        function createParticles() {
            const container = document.getElementById('particlesContainer');
            if (!container) return;

            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (15 + Math.random() * 20) + 's';

                // Random colors between cyan and magenta
                const hue = Math.random() > 0.5 ? 180 : 300;
                particle.style.background = `hsl(${hue}, 100%, 50%)`;
                particle.style.boxShadow = `0 0 ${10 + Math.random() * 20}px hsl(${hue}, 100%, 50%)`;
                particle.style.width = (2 + Math.random() * 4) + 'px';
                particle.style.height = particle.style.width;

                container.appendChild(particle);
            }
        }

        // Cursor Trail Effect
        function setupCursorTrail() {
            const trailContainer = document.getElementById('cursorTrail');
            if (!trailContainer) return;

            const trailLength = 20;
            const trail = [];

            for (let i = 0; i < trailLength; i++) {
                const dot = document.createElement('div');
                dot.style.cssText = `
                    position: fixed;
                    width: ${12 - i * 0.5}px;
                    height: ${12 - i * 0.5}px;
                    background: radial-gradient(circle, 
                        rgba(0, 245, 255, ${1 - i * 0.05}) 0%, 
                        rgba(255, 0, 255, ${0.5 - i * 0.025}) 100%);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 9998;
                    opacity: ${1 - i * 0.05};
                    transition: transform 0.1s ease;
                    transform: translate(-50%, -50%);
                    box-shadow: 0 0 ${10 - i * 0.5}px rgba(0, 245, 255, ${0.5 - i * 0.025});
                `;
                trailContainer.appendChild(dot);
                trail.push({ element: dot, x: 0, y: 0 });
            }

            let mouseX = 0, mouseY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            function animateTrail() {
                let x = mouseX;
                let y = mouseY;

                trail.forEach((dot, index) => {
                    const nextX = index === 0 ? x : trail[index - 1].x;
                    const nextY = index === 0 ? y : trail[index - 1].y;

                    dot.x += (nextX - dot.x) * 0.35;
                    dot.y += (nextY - dot.y) * 0.35;

                    dot.element.style.left = dot.x + 'px';
                    dot.element.style.top = dot.y + 'px';
                });

                requestAnimationFrame(animateTrail);
            }

            animateTrail();
        }

        // Interactive Light Effect
        function setupLightEffect() {
            const light = document.createElement('div');
            light.id = 'interactiveLight';
            light.style.cssText = `
                position: fixed;
                width: 400px;
                height: 400px;
                background: radial-gradient(circle, 
                    rgba(0, 245, 255, 0.15) 0%, 
                    rgba(255, 0, 255, 0.1) 30%, 
                    transparent 70%);
                border-radius: 50%;
                pointer-events: none;
                z-index: -1;
                transform: translate(-50%, -50%);
                transition: opacity 0.3s ease;
                filter: blur(40px);
            `;
            document.body.appendChild(light);

            document.addEventListener('mousemove', (e) => {
                light.style.left = e.clientX + 'px';
                light.style.top = e.clientY + 'px';
            });
        }

        // Magnetic Button Effect
        function setupMagneticButtons() {
            const buttons = document.querySelectorAll('.process-btn, .upload-btn, .tool-card');

            buttons.forEach(btn => {
                btn.addEventListener('mousemove', (e) => {
                    const rect = btn.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;

                    btn.style.transform = `
                        translateY(-12px) 
                        rotateX(${-y / 10}deg) 
                        rotateY(${x / 10}deg) 
                        scale(1.02)
                    `;
                });

                btn.addEventListener('mouseleave', () => {
                    btn.style.transform = '';
                });
            });
        }

        // Initialize Effects
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            setupCursorTrail();
            setupLightEffect();

            // Delay magnetic buttons to allow page to fully load
            setTimeout(setupMagneticButtons, 1000);
        });
    </script>

    <!-- History Panel -->
    <div class="history-panel" id="historyPanel">
        <div class="history-header">
            <h3><i class="fas fa-history"></i> Recent History</h3>
            <button class="history-close" onclick="toggleHistoryPanel()">√ó</button>
        </div>
        <div id="historyList">
            <div class="empty-state">
                <i class="fas fa-clock"></i>
                <p>No recent activity</p>
            </div>
        </div>
    </div>

    <!-- History Toggle Button -->
    <button class="history-toggle" onclick="toggleHistoryPanel()" title="Recent History">
        <i class="fas fa-history"></i>
    </button>

    <!-- Keyboard Shortcuts Panel -->
    <div class="shortcuts-hint" id="shortcutsHint" style="display:none;">
        <h4><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h4>
        <div class="shortcut-row">
            <span>Merge PDF</span>
            <span class="shortcut-key"><kbd>Ctrl</kbd>+<kbd>M</kbd></span>
        </div>
        <div class="shortcut-row">
            <span>Split PDF</span>
            <span class="shortcut-key"><kbd>Ctrl</kbd>+<kbd>P</kbd></span>
        </div>
        <div class="shortcut-row">
            <span>Compress</span>
            <span class="shortcut-key"><kbd>Ctrl</kbd>+<kbd>K</kbd></span>
        </div>
        <div class="shortcut-row">
            <span>Close Modal</span>
            <span class="shortcut-key"><kbd>Esc</kbd></span>
        </div>
        <div class="shortcut-row">
            <span>Search Tools</span>
            <span class="shortcut-key"><kbd>/</kbd></span>
        </div>
    </div>

    <!-- Shortcuts Toggle -->
    <button class="shortcuts-toggle" onclick="toggleShortcuts()" title="Keyboard Shortcuts">
        <i class="fas fa-keyboard"></i>
    </button>

    <!-- Enhanced Features JavaScript -->
    <script>
        // ==================== FAVORITES SYSTEM ====================
        let favorites = JSON.parse(localStorage.getItem('pdfToolFavorites') || '[]');

        function initFavorites() {
            // Add star buttons to all tool cards
            document.querySelectorAll('.tool-card').forEach(card => {
                const toolId = card.dataset.tool;
                if (!toolId) return;

                const starBtn = document.createElement('button');
                starBtn.className = 'favorite-btn' + (favorites.includes(toolId) ? ' active' : '');
                starBtn.innerHTML = '<i class="fas fa-star"></i>';
                starBtn.onclick = (e) => {
                    e.stopPropagation();
                    toggleFavorite(toolId, starBtn);
                };
                card.style.position = 'relative';
                card.appendChild(starBtn);
            });

            renderFavoritesSection();
        }

        function toggleFavorite(toolId, btn) {
            if (favorites.includes(toolId)) {
                favorites = favorites.filter(f => f !== toolId);
                btn.classList.remove('active');
                showToast('‚≠ê Removed from favorites');
            } else {
                favorites.push(toolId);
                btn.classList.add('active');
                showToast('‚≠ê Added to favorites!');
            }
            localStorage.setItem('pdfToolFavorites', JSON.stringify(favorites));
            renderFavoritesSection();
        }

        function renderFavoritesSection() {
            let section = document.getElementById('favoritesSection');

            if (favorites.length === 0) {
                if (section) section.remove();
                return;
            }

            if (!section) {
                section = document.createElement('div');
                section.id = 'favoritesSection';
                section.className = 'favorites-section';
                const toolsContainer = document.querySelector('.tools-section .container');
                if (toolsContainer) {
                    toolsContainer.insertBefore(section, toolsContainer.firstChild);
                }
            }

            section.innerHTML = `
                <h3><i class="fas fa-star"></i> Your Favorites</h3>
                <div class="favorites-grid">
                    ${favorites.map(toolId => {
                const card = document.querySelector(`[data-tool="${toolId}"]`);
                if (!card) return '';
                const title = card.querySelector('h3')?.textContent || toolId;
                const icon = card.querySelector('.tool-icon i')?.className || 'fas fa-file';
                return `<div class="favorite-chip" onclick="openTool('${toolId}')">
                            <i class="${icon}"></i> ${title}
                        </div>`;
            }).join('')}
                </div>
            `;
        }

        // ==================== HISTORY SYSTEM ====================
        let history = JSON.parse(localStorage.getItem('pdfToolHistory') || '[]');

        function addToHistory(toolId, toolTitle) {
            const entry = {
                id: toolId,
                title: toolTitle,
                time: new Date().toISOString()
            };

            // Remove duplicate if exists
            history = history.filter(h => h.id !== toolId);

            // Add to beginning
            history.unshift(entry);

            // Keep only last 10
            history = history.slice(0, 10);

            localStorage.setItem('pdfToolHistory', JSON.stringify(history));
            renderHistory();
        }

        function renderHistory() {
            const container = document.getElementById('historyList');
            if (!container) return;

            if (history.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-clock"></i>
                        <p>No recent activity</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = history.map(item => {
                const card = document.querySelector(`[data-tool="${item.id}"]`);
                const icon = card?.querySelector('.tool-icon i')?.className || 'fas fa-file';
                const timeAgo = getTimeAgo(new Date(item.time));

                return `
                    <div class="history-item" onclick="openTool('${item.id}')">
                        <div class="history-icon"><i class="${icon}"></i></div>
                        <div class="history-info">
                            <h4>${item.title}</h4>
                            <span>${timeAgo}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            if (seconds < 60) return 'Just now';
            if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
            return `${Math.floor(seconds / 86400)}d ago`;
        }

        function toggleHistoryPanel() {
            document.getElementById('historyPanel').classList.toggle('open');
        }

        // ==================== KEYBOARD SHORTCUTS ====================
        function toggleShortcuts() {
            const panel = document.getElementById('shortcutsHint');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }

        document.addEventListener('keydown', (e) => {
            // Don't trigger if typing in input
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                if (e.key === 'Escape') {
                    e.target.blur();
                }
                return;
            }

            // Ctrl + M = Merge
            if (e.ctrlKey && e.key === 'm') {
                e.preventDefault();
                openTool('merge-pdf');
            }

            // Ctrl + P = Split (prevent print)
            if (e.ctrlKey && e.key === 'p') {
                e.preventDefault();
                openTool('split-pdf');
            }

            // Ctrl + K = Compress
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                openTool('compress-pdf');
            }

            // / = Focus search
            if (e.key === '/') {
                e.preventDefault();
                document.getElementById('toolSearch')?.focus();
            }

            // Escape = Close modal
            if (e.key === 'Escape') {
                closeTool();
                toggleHistoryPanel();
                document.getElementById('shortcutsHint').style.display = 'none';
            }

            // ? = Toggle shortcuts
            if (e.key === '?') {
                toggleShortcuts();
            }
        });

        // ==================== DRAG AND DROP REORDER ====================
        function setupDragAndDrop() {
            document.addEventListener('dragstart', (e) => {
                if (e.target.classList.contains('file-item')) {
                    e.target.classList.add('dragging');
                    e.dataTransfer.setData('text/plain', e.target.dataset.index);
                }
            });

            document.addEventListener('dragend', (e) => {
                if (e.target.classList.contains('file-item')) {
                    e.target.classList.remove('dragging');
                }
            });

            document.addEventListener('dragover', (e) => {
                e.preventDefault();
                const fileItem = e.target.closest('.file-item');
                if (fileItem && !fileItem.classList.contains('dragging')) {
                    fileItem.classList.add('drag-over');
                }
            });

            document.addEventListener('dragleave', (e) => {
                const fileItem = e.target.closest('.file-item');
                if (fileItem) {
                    fileItem.classList.remove('drag-over');
                }
            });

            document.addEventListener('drop', (e) => {
                e.preventDefault();
                const fileItem = e.target.closest('.file-item');
                if (fileItem) {
                    fileItem.classList.remove('drag-over');
                    const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));
                    const toIndex = parseInt(fileItem.dataset.index);

                    if (fromIndex !== toIndex && !isNaN(fromIndex) && !isNaN(toIndex)) {
                        // Reorder files
                        const temp = uploadedFiles[fromIndex];
                        uploadedFiles.splice(fromIndex, 1);
                        uploadedFiles.splice(toIndex, 0, temp);
                        updateFileList();
                        showToast('üìÅ Files reordered');
                    }
                }
            });
        }

        // ==================== OCR TOOL ====================
        async function processOCR() {
            if (uploadedFiles.length === 0) {
                showToast('‚ùå Please upload a PDF first');
                return;
            }

            const progressContainer = document.getElementById('progressContainer');
            progressContainer.classList.add('active');

            try {
                updateProgress(10, 'Loading PDF for OCR...');

                const file = uploadedFiles[0];
                const arrayBuffer = await file.arrayBuffer();

                pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
                const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;

                let fullText = '';
                const pageCount = pdf.numPages;

                for (let i = 1; i <= pageCount; i++) {
                    updateProgress(10 + (i / pageCount) * 70, `Processing page ${i} of ${pageCount}...`);

                    const page = await pdf.getPage(i);
                    const viewport = page.getViewport({ scale: 2 });

                    // Create canvas
                    const canvas = document.createElement('canvas');
                    const context = canvas.getContext('2d');
                    canvas.width = viewport.width;
                    canvas.height = viewport.height;

                    await page.render({ canvasContext: context, viewport: viewport }).promise;

                    // OCR using Tesseract
                    updateProgress(10 + (i / pageCount) * 70, `Running OCR on page ${i}...`);

                    const result = await Tesseract.recognize(canvas, 'eng', {
                        logger: m => {
                            if (m.status === 'recognizing text') {
                                updateProgress(10 + (i / pageCount) * 70 + m.progress * 10, `OCR page ${i}: ${Math.round(m.progress * 100)}%`);
                            }
                        }
                    });

                    fullText += `\n--- Page ${i} ---\n${result.data.text}\n`;
                }

                updateProgress(95, 'Finalizing...');

                // Display results
                const resultSection = document.getElementById('resultSection');
                resultSection.innerHTML = `
                    <i class="fas fa-check-circle" style="color:var(--neon-green);font-size:2rem;"></i>
                    <h3>OCR Complete!</h3>
                    <textarea id="ocrText" style="width:100%;height:300px;background:#0a0a1a;color:#fff;border:1px solid var(--neon-cyan);border-radius:8px;padding:1rem;margin:1rem 0;font-family:monospace;">${fullText}</textarea>
                    <div style="display:flex;gap:1rem;justify-content:center;">
                        <button class="download-btn" onclick="copyOCRText()"><i class="fas fa-copy"></i> Copy Text</button>
                        <button class="download-btn" onclick="downloadOCRText()"><i class="fas fa-download"></i> Download TXT</button>
                    </div>
                `;

                showResult();
                showToast(`‚úÖ OCR extracted text from ${pageCount} pages!`);

            } catch (error) {
                console.error('OCR Error:', error);
                showToast('‚ùå OCR Error: ' + error.message);
                progressContainer.classList.remove('active');
            }
        }

        function copyOCRText() {
            const text = document.getElementById('ocrText')?.value;
            if (text) {
                navigator.clipboard.writeText(text);
                showToast('üìã Text copied to clipboard!');
            }
        }

        function downloadOCRText() {
            const text = document.getElementById('ocrText')?.value;
            if (text) {
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'ocr_extracted_text.txt';
                a.click();
                URL.revokeObjectURL(url);
            }
        }

        // ==================== PDF TEMPLATES ====================
        function generateInvoiceTemplate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Header
            doc.setFillColor(102, 126, 234);
            doc.rect(0, 0, 210, 40, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(24);
            doc.text('INVOICE', 105, 25, { align: 'center' });

            // Reset text color
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);

            // Company Info
            doc.text('Your Company Name', 20, 55);
            doc.setFontSize(10);
            doc.text('123 Business Street', 20, 62);
            doc.text('City, State 12345', 20, 68);

            // Invoice Details
            doc.text(`Invoice #: INV-${Date.now().toString().slice(-6)}`, 140, 55);
            doc.text(`Date: ${new Date().toLocaleDateString()}`, 140, 62);

            // Table Header
            doc.setFillColor(240, 240, 240);
            doc.rect(20, 85, 170, 10, 'F');
            doc.setFontSize(10);
            doc.text('Description', 25, 92);
            doc.text('Qty', 110, 92);
            doc.text('Price', 135, 92);
            doc.text('Total', 165, 92);

            // Sample rows
            doc.text('Product/Service 1', 25, 105);
            doc.text('1', 110, 105);
            doc.text('$100.00', 135, 105);
            doc.text('$100.00', 165, 105);

            doc.text('Product/Service 2', 25, 115);
            doc.text('2', 110, 115);
            doc.text('$50.00', 135, 115);
            doc.text('$100.00', 165, 115);

            // Total
            doc.setFontSize(12);
            doc.text('Total: $200.00', 165, 140, { align: 'right' });

            // Footer
            doc.setFontSize(10);
            doc.setTextColor(128, 128, 128);
            doc.text('Thank you for your business!', 105, 270, { align: 'center' });

            doc.save('invoice_template.pdf');
            showToast('üìÑ Invoice template downloaded!');
        }

        function generateReceiptTemplate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ format: [80, 150] }); // Receipt size

            doc.setFontSize(14);
            doc.text('RECEIPT', 40, 15, { align: 'center' });

            doc.setFontSize(8);
            doc.text('--------------------------------', 40, 22, { align: 'center' });
            doc.text(`Date: ${new Date().toLocaleDateString()}`, 5, 30);
            doc.text(`Receipt #: ${Date.now().toString().slice(-6)}`, 5, 36);
            doc.text('--------------------------------', 40, 42, { align: 'center' });

            doc.text('Item 1                    $10.00', 5, 50);
            doc.text('Item 2                    $15.00', 5, 56);
            doc.text('Item 3                    $25.00', 5, 62);

            doc.text('--------------------------------', 40, 70, { align: 'center' });
            doc.setFontSize(10);
            doc.text('TOTAL: $50.00', 40, 78, { align: 'center' });
            doc.setFontSize(8);
            doc.text('--------------------------------', 40, 85, { align: 'center' });
            doc.text('Thank you!', 40, 92, { align: 'center' });

            doc.save('receipt_template.pdf');
            showToast('üßæ Receipt template downloaded!');
        }

        function generateCertificateTemplate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ orientation: 'landscape' });

            // Border
            doc.setDrawColor(102, 126, 234);
            doc.setLineWidth(3);
            doc.rect(10, 10, 277, 190, 'S');
            doc.setLineWidth(1);
            doc.rect(15, 15, 267, 180, 'S');

            // Header
            doc.setFontSize(36);
            doc.setTextColor(102, 126, 234);
            doc.text('CERTIFICATE', 148.5, 50, { align: 'center' });

            doc.setFontSize(18);
            doc.setTextColor(0, 0, 0);
            doc.text('OF ACHIEVEMENT', 148.5, 62, { align: 'center' });

            // Body
            doc.setFontSize(14);
            doc.text('This is to certify that', 148.5, 85, { align: 'center' });

            doc.setFontSize(28);
            doc.setTextColor(102, 126, 234);
            doc.text('[Recipient Name]', 148.5, 105, { align: 'center' });

            doc.setFontSize(14);
            doc.setTextColor(0, 0, 0);
            doc.text('has successfully completed', 148.5, 125, { align: 'center' });

            doc.setFontSize(18);
            doc.text('[Course/Achievement Name]', 148.5, 140, { align: 'center' });

            // Date and Signature
            doc.setFontSize(12);
            doc.text(`Date: ${new Date().toLocaleDateString()}`, 60, 170);
            doc.text('Signature: _______________', 200, 170);

            doc.save('certificate_template.pdf');
            showToast('üèÜ Certificate template downloaded!');
        }

        // ==================== OVERRIDE openTool to track history ====================
        const originalOpenTool = window.openTool;
        window.openTool = function (toolId) {
            const card = document.querySelector(`[data-tool="${toolId}"]`);
            const title = card?.querySelector('h3')?.textContent || toolId;
            addToHistory(toolId, title);
            originalOpenTool(toolId);
        };

        // ==================== INITIALIZE ON LOAD ====================
        document.addEventListener('DOMContentLoaded', () => {
            initFavorites();
            renderHistory();
            setupDragAndDrop();
        });
    </script>
</body>

</html>